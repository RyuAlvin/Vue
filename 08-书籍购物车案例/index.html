<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- 
  1、初始化
    1.1、准备数据
    1.2、表格结构thead+tbody显示数据
    1.3、通过过滤器完善价格表示，￥+保留两位小数
    1.4、数量加减按钮
    1.5、移除按钮
  2、数量加减响应式更改
    2.1、数量<=1时，减按钮非活性
  3、移除按钮响应式移除数组元素
  4、总价格通过计算属性实现
  5、通过v-if，v-else，根据数组长度切换显示表格数据
   -->
  <div id="app">
    <div v-if="this.list.length">
      <table>
        <thead>
          <tr>
            <td></td>
            <td>书籍名称</td>
            <td>出版日期</td>
            <td>价格</td>
            <td>购买数量</td>
            <td>操作</td>
          </tr>
        </thead>
        <tbody>
          <tr v-for="(book, index) in list">
            <td>{{book.id}}</td>
            <td>{{book.name}}</td>
            <td>{{book.date}}</td>
            <td>{{book.price | showPrice}}</td>
            <td>
              <button @click="decrement(index)" :disabled="book.count <= 1">-</button>
              {{book.count}}
              <button @click="increment(index)">+</button>
            </td>
            <td>
              <button @click="remove(index)">移除</button>
            </td>
          </tr>
        </tbody>
      </table>
      <h2>总价格：{{totalPrice | showPrice}}</h2>
    </div>
    <h2 v-else>什么都不想买吗？</h2>
  </div>
  <script src="../js/vue.js"></script>
  <script src="main.js"></script>
</body>

</html>